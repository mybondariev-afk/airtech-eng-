<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TaxiStation</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto&display=swap" rel="stylesheet">
<style>
html { scroll-behavior: smooth; }
body { font-family: 'Roboto', sans-serif; margin: 0; background: #f5f2ed; color: #333; }
header { background: #1a1a1a; color: #f0d67b; padding: 25px; text-align: center; font-family: 'Playfair Display', serif; letter-spacing: 3px; font-size: 2.2rem; border-bottom: 5px solid #f0d67b; }
header small { display: block; font-size: 1rem; margin-top: 5px; color: #d1c4a7; }
nav { display: flex; justify-content: center; gap: 25px; padding: 18px; background: #2b2b2b; }
nav a { color: #f0d67b; text-decoration: none; font-weight: bold; padding: 5px 10px; border: 2px solid transparent; transition: all 0.3s; }
nav a:hover { border: 2px solid #f0d67b; border-radius: 10px; }
main { padding: 40px; display: flex; flex-direction: column; align-items: center; gap: 50px; }
h2 { font-family: 'Playfair Display', serif; font-size: 2rem; border-bottom: 3px solid #f0d67b; padding-bottom: 8px; margin-bottom: 20px; }
.classes { display: flex; gap: 25px; flex-wrap: wrap; justify-content: center; }
.class-card { background: #f0e5d2; padding: 25px; border-radius: 20px; text-align: center; width: 160px; box-shadow: 0 6px 10px rgba(0,0,0,0.25); font-family: 'Playfair Display', serif; border: 2px solid #f0d67b; transition: transform 0.3s, box-shadow 0.3s; }
.class-card.vip { border-color: #ffd700; box-shadow: 0 0 15px #ffd700; }
.class-card.expensive { border-color: #c0c0c0; }
.class-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0,0,0,0.3); }
.class-card h3 { margin: 0 0 10px 0; color: #1a1a1a; }
.price { font-weight: bold; color: #1a1a1a; }
.available-taxis { max-width: 500px; width: 100%; }
.taxi-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 18px; background: #f9f5ee; border-radius: 12px; margin-bottom: 12px; font-weight: bold; border: 2px solid #f0d67b; transition: 0.3s; }
.taxi-item.vip { border-color: #ffd700; box-shadow: 0 0 10px #ffd700; }
.taxi-item.expensive { border-color: #c0c0c0; }
.taxi-item button { padding: 6px 14px; border: none; border-radius: 8px; background: #1a1a1a; color: #f0d67b; cursor: pointer; font-weight: bold; transition: all 0.3s; }
.taxi-item button:hover { background: #333; transform: scale(1.05); }
.taxi-item button:active { transform: scale(0.95); }
form { display: flex; flex-direction: column; gap: 18px; background: #f0e5d2; padding: 25px; border-radius: 20px; max-width: 400px; width: 100%; border: 2px solid #f0d67b; }
input, button { padding: 12px; border-radius: 10px; border: 1px solid #333; font-size: 1rem; }
button { background: #1a1a1a; color: #f0d67b; cursor: pointer; font-weight: bold; transition: all 0.3s; }
button:hover { background: #333; transform: scale(1.02); }
button:active { transform: scale(0.98); }
#userAccount { background: #f0e5d2; padding: 20px; border-radius: 20px; border: 2px solid #f0d67b; max-width: 400px; width: 100%; text-align: center; font-weight: bold; }
#history { margin-top: 15px; text-align: left; max-height: 200px; overflow-y: auto; padding: 10px; border: 2px solid #f0d67b; border-radius: 15px; background: #f9f5ee; }
footer { text-align: center; padding: 18px; background: #1a1a1a; color: #d1c4a7; font-size: 0.95rem; border-top: 3px solid #f0d67b; }
</style>
</head>
<body>

<header>
TaxiStation
<small>This is not a real website</small>
</header>

<nav>
<a href="#classes">Taxi Classes</a>
<a href="#available">Available Cars</a>
</nav>

<main>
<section id="classes">
<h2>Taxi Classes</h2>
<div class="classes" id="classList"></div>
</section>

<section id="available">
<h2>Available Cars</h2>
<div class="available-taxis" id="taxiList"></div>
<button onclick="addRandomTaxi()">Add Random Car</button>
</section>

<section id="register">
<h2>Register</h2>
<form id="registerForm">
<input type="text" id="name" placeholder="Your Name" required>
<input type="email" id="email" placeholder="Email" required>
<input type="password" id="password" placeholder="Password" required>
<button type="submit">Register</button>
</form>
</section>

<div id="userAccount" style="display:none;">
Welcome, <span id="userName"></span>!<br>
Balance: <span id="userBalance">500</span> €<br>
Booked Car: <span id="bookedTaxi">none</span><br>
<button id="cancelBookingBtn" onclick="cancelBooking()" style="display:none;">Cancel Booking</button>

<h3>Booking History:</h3>
<div id="history">No records</div>
</div>

</main>

<footer>
TaxiStation © 2025 - This is not a real website
</footer>

<script>
const taxiList = document.getElementById('taxiList');
const classList = document.getElementById('classList');
const userAccount = document.getElementById('userAccount');
const userNameEl = document.getElementById('userName');
const userBalanceEl = document.getElementById('userBalance');
const bookedTaxiEl = document.getElementById('bookedTaxi');
const cancelBookingBtn = document.getElementById('cancelBookingBtn');
const historyEl = document.getElementById('history');
let registeredUser = null;

const classes = [
  {name: 'Standard', price: 10},
  {name: 'Comfort', price: 20},
  {name: 'Business', price: 35},
  {name: 'VIP', price: 50}
];

let taxis = [
  {name: 'Toyota Prius', class: 'Standard', available: true, price: 10},
  {name: 'Honda Accord', class: 'Comfort', available: true, price: 20},
  {name: 'BMW 5', class: 'Business', available: true, price: 35},
  {name: 'Mercedes S-Class', class: 'VIP', available: true, price: 50}
];

function renderClasses() {
  classList.innerHTML = '';
  classes.forEach(cls => {
    const div = document.createElement('div');
    div.className = 'class-card';
    if(cls.name === 'VIP') div.classList.add('vip');
    if(cls.price > 40) div.classList.add('expensive');
    div.innerHTML = `<h3>${cls.name}</h3><div class="price">${cls.price} €</div>`;
    classList.appendChild(div);
  });
}

function renderTaxis() {
  taxiList.innerHTML = '';
  taxis.forEach((taxi, index) => {
    const div = document.createElement('div');
    div.className = 'taxi-item';
    if(taxi.class === 'VIP') div.classList.add('vip');
    if(taxi.price > 40) div.classList.add('expensive');
    div.innerHTML = `${taxi.name} - ${taxi.class} (${taxi.price} €)
      <button ${!taxi.available ? 'disabled' : ''} onclick="bookTaxi(${index})">
        ${taxi.available ? 'Book' : 'Unavailable'}
      </button>`;
    taxiList.appendChild(div);
  });
}

function addRandomTaxi() {
  const carNames = ['Ford Focus', 'Skoda Octavia', 'Audi A6', 'Lexus LS', 'Volkswagen Passat'];
  const randomCar = carNames[Math.floor(Math.random() * carNames.length)];
  const randomClass = classes[Math.floor(Math.random() * classes.length)];
  taxis.push({name: randomCar, class: randomClass.name, available: true, price: randomClass.price});
  renderTaxis();
}

function updateHistory(entry) {
  if(historyEl.textContent === 'No records') historyEl.textContent = '';
  const div = document.createElement('div');
  div.textContent = entry;
  historyEl.prepend(div);
}

function bookTaxi(index) {
  if(!registeredUser) { alert('Please register first.'); return; }
  if(registeredUser.bookedTaxi !== null) { alert('You have already booked a car.'); return; }
  const taxi = taxis[index];
  if(registeredUser.balance < taxi.price) { alert('Not enough balance to book this car.'); return; }

  registeredUser.balance -= taxi.price;
  taxi.available = false;
  registeredUser.bookedTaxi = index;
  userBalanceEl.textContent = registeredUser.balance;
  bookedTaxiEl.textContent = taxi.name;
  cancelBookingBtn.style.display = 'inline-block';
  renderTaxis();

  let historyEntry = `Booked: ${taxi.name} - ${taxi.class} (${taxi.price} €)`;
  if(taxi.class === 'VIP') {
    const bonus = Math.round(taxi.price * 0.1);
    registeredUser.balance += bonus;
    userBalanceEl.textContent = registeredUser.balance;
    historyEntry += ` | Bonus: +${bonus} €`;
  }
  updateHistory(historyEntry);
}

function cancelBooking() {
  if(!registeredUser || registeredUser.bookedTaxi === null) {
    alert("No active booking to cancel.");
    return;
  }
  const taxiIndex = registeredUser.bookedTaxi;
  const taxi = taxis[taxiIndex];
  taxi.available = true;
  registeredUser.balance += taxi.price;
  registeredUser.bookedTaxi = null;

  userBalanceEl.textContent = registeredUser.balance;
  bookedTaxiEl.textContent = 'none';
  cancelBookingBtn.style.display = 'none';
  renderTaxis();
  updateHistory(`Cancelled booking: ${taxi.name} - ${taxi.class} (${taxi.price} €)`);
}

renderClasses();
renderTaxis();

document.getElementById('registerForm').addEventListener('submit', e => {
  e.preventDefault();
  registeredUser = { name: e.target.name.value, balance: 500, bookedTaxi: null };
  userNameEl.textContent = registeredUser.name;
  userBalanceEl.textContent = registeredUser.balance;
  userAccount.style.display = 'block';
  e.target.parentElement.style.display = 'none';
  updateHistory('User registered. Balance: 500 €');
});
</script>

</body>
</html>